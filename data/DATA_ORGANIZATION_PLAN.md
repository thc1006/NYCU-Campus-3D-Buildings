# æ•¸æ“šæ•´ç†è¨ˆåŠƒ - NQSD å°ˆæ¡ˆ

**æ—¥æœŸ:** 2026-02-08
**ç‹€æ…‹:** å¾…åŸ·è¡Œ
**åƒè€ƒæ¨™æº–:** ymmap_archive æ­¸æª”æ¨¡å¼

---

## ğŸ“Š ç•¶å‰ç‹€æ…‹åˆ†æ

### ç›®éŒ„å¤§å°çµ±è¨ˆ
| ç›®éŒ„ | å¤§å° | æ–‡ä»¶æ•¸ | ç‹€æ…‹ |
|------|------|--------|------|
| `raw/` | 641 MB | 713+ | éœ€è¦æ•´ç† |
| `processed/` | 9.7 MB | 8 | éœ€è¦åˆ†é¡ |
| `output/` | 1.6 MB | 6 | éœ€è¦ç‰ˆæœ¬åŒ– |
| `floor_plans/` | 13 MB | 12 | éœ€è¦å…ƒæ•¸æ“š |
| `ymmap_archive/` | 3.4 GB | æ•¸åƒ+ | ğŸ“Œ **ä¸å¯ä¿®æ”¹ï¼ˆåƒè€ƒç”¨ï¼‰** |

### ymmap_archive æ­¸æª”æ¨¡å¼åˆ†æ

#### âœ… å„ªç§€å¯¦è¸ï¼ˆéœ€è¦å­¸ç¿’ï¼‰
1. **åˆ†å±¤çµ„ç¹”**
   - ä¸€ç´šåˆ†é¡ï¼šæŒ‰åŠŸèƒ½/æ•¸æ“šé¡å‹ï¼ˆapi_data, building_images, wfs_dataï¼‰
   - äºŒç´šåˆ†é¡ï¼šæŒ‰å»ºç¯‰ç·¨è™Ÿï¼ˆB003, Y001ï¼‰æˆ–ç‰ˆæœ¬ï¼ˆv2, v3ï¼‰
   - ä¸‰ç´šåˆ†é¡ï¼šå…·é«”æ•¸æ“šæ–‡ä»¶

2. **ç‰ˆæœ¬æ§åˆ¶**
   ```
   building_photos/         # v1
   building_photos_v2/      # v2
   route_data/v2/           # è¿­ä»£ç‰ˆæœ¬
   route_data/v6_final/     # æœ€çµ‚ç‰ˆæœ¬
   ```

3. **å…ƒæ•¸æ“šç®¡ç†**
   - æ¯å€‹é¡åˆ¥éƒ½æœ‰å°æ‡‰çš„ JSON é…ç½®
   - åŒ…å«å®Œæ•´çš„ API éŸ¿æ‡‰è¨˜éŒ„
   - ä¿å­˜æŸ¥è©¢åƒæ•¸å’Œçµæœ

4. **å‘½åè¦ç¯„**
   - ä½¿ç”¨ä¸‹åŠƒç·šåˆ†éš”ï¼š`all_building_bounds.json`
   - åŒ…å«é¡å‹å¾Œç¶´ï¼š`_full.json`, `_stats.json`
   - æŒ‰å»ºç¯‰ç·¨è™Ÿåˆ†é¡ï¼š`B003/`, `Y001/`

---

## ğŸ¯ æ•´ç†ç›®æ¨™

### 1. raw/ ç›®éŒ„æ•´ç†
**ç•¶å‰å•é¡Œï¼š**
- 6 å€‹ NLSC 3D tiles æ•¸æ“šé›†æ··åœ¨ä¸€èµ·
- 713 å€‹ .bin æ–‡ä»¶ç„¡çµ„ç¹”
- ç¼ºå°‘å…ƒæ•¸æ“šå’Œç´¢å¼•

**æ•´ç†æ–¹æ¡ˆï¼š**
```
raw/
â”œâ”€â”€ README.md                           # æ•¸æ“šé›†èªªæ˜
â”œâ”€â”€ NLSC_3D_tiles/
â”‚   â”œâ”€â”€ metadata.json                   # æ•¸æ“šé›†å…ƒæ•¸æ“š
â”‚   â”œâ”€â”€ 109_A_yangming/
â”‚   â”‚   â”œâ”€â”€ dataset_info.json
â”‚   â”‚   â”œâ”€â”€ L5/
â”‚   â”‚   â”œâ”€â”€ L6/
â”‚   â”‚   â””â”€â”€ manifest.json
â”‚   â”œâ”€â”€ 112_A_yangming/
â”‚   â”œâ”€â”€ 112_D_gueiren/
â”‚   â”œâ”€â”€ 112_O/
â”‚   â”œâ”€â”€ 112_O_boai/
â”‚   â””â”€â”€ 113_J_liujia/
â””â”€â”€ archive/                            # èˆŠç‰ˆæœ¬æ•¸æ“šï¼ˆå£“ç¸®ï¼‰
    â””â”€â”€ NLSC_3D_tiles_109_archive.tar.gz
```

### 2. processed/ ç›®éŒ„æ•´ç†
**ç•¶å‰å•é¡Œï¼š**
- æ–‡ä»¶å‘½åä¸çµ±ä¸€
- ç¼ºå°‘è™•ç†æµç¨‹è¨˜éŒ„
- æ··åˆäº†ä¸åŒæ ¡å€æ•¸æ“š

**æ•´ç†æ–¹æ¡ˆï¼š**
```
processed/
â”œâ”€â”€ README.md                           # è™•ç†æµç¨‹èªªæ˜
â”œâ”€â”€ metadata.json                       # è™•ç†åƒæ•¸è¨˜éŒ„
â”œâ”€â”€ buildings/
â”‚   â”œâ”€â”€ by_campus/
â”‚   â”‚   â”œâ”€â”€ boai_NLSC_buildings.json
â”‚   â”‚   â”œâ”€â”€ gueiren_NLSC_buildings.json
â”‚   â”‚   â”œâ”€â”€ liujia_NLSC_buildings.json
â”‚   â”‚   â””â”€â”€ yangming_NLSC_buildings.json
â”‚   â”œâ”€â”€ combined/
â”‚   â”‚   â”œâ”€â”€ NYCU_NLSC_buildings.json
â”‚   â”‚   â””â”€â”€ NYCU_NLSC_buildings.geojson
â”‚   â””â”€â”€ osm/
â”‚       â””â”€â”€ Guangfu_OSM_buildings.geojson
â”œâ”€â”€ building_list.txt
â””â”€â”€ processing_logs/                    # è™•ç†æ—¥èªŒ
    â””â”€â”€ 2026-02-07_processing.log
```

### 3. output/ ç›®éŒ„æ•´ç†
**ç•¶å‰å•é¡Œï¼š**
- ç„¡ç‰ˆæœ¬æ§åˆ¶
- ç¼ºå°‘ç”Ÿæˆæ™‚é–“æˆ³
- æ··åˆäº†ä¸åŒæ ¼å¼

**æ•´ç†æ–¹æ¡ˆï¼š**
```
output/
â”œâ”€â”€ README.md                           # è¼¸å‡ºèªªæ˜
â”œâ”€â”€ latest/                             # æœ€æ–°ç‰ˆæœ¬ï¼ˆç¬¦è™Ÿé€£çµï¼‰
â”‚   â”œâ”€â”€ buildings_3d.geojson
â”‚   â”œâ”€â”€ buildings_3d.html
â”‚   â”œâ”€â”€ buildings_map.html
â”‚   â”œâ”€â”€ buildings_merged.geojson
â”‚   â”œâ”€â”€ buildings_table.csv
â”‚   â””â”€â”€ buildings_table.xlsx
â”œâ”€â”€ v1_2026-02-07/                      # ç‰ˆæœ¬åŒ–å­˜æª”
â”‚   â”œâ”€â”€ metadata.json                   # ç”Ÿæˆåƒæ•¸
â”‚   â””â”€â”€ [same files as above]
â””â”€â”€ archive/                            # èˆŠç‰ˆæœ¬ï¼ˆå£“ç¸®ï¼‰
    â””â”€â”€ v0_2026-01-15.tar.gz
```

### 4. floor_plans/ ç›®éŒ„æ•´ç†
**ç•¶å‰å•é¡Œï¼š**
- PDF å’Œé è¦½åœ–æ··åœ¨ä¸€èµ·
- ç¼ºå°‘åˆ†é¡å’Œç´¢å¼•

**æ•´ç†æ–¹æ¡ˆï¼š**
```
floor_plans/
â”œâ”€â”€ README.md                           # å¹³é¢åœ–ç´¢å¼•
â”œâ”€â”€ metadata.json                       # å»ºç¯‰-å¹³é¢åœ–æ˜ å°„
â”œâ”€â”€ pdf/
â”‚   â”œâ”€â”€ auditorium/
â”‚   â”‚   â”œâ”€â”€ panorama.pdf
â”‚   â”‚   â””â”€â”€ seatmap.pdf
â”‚   â”œâ”€â”€ buildings/
â”‚   â”‚   â”œâ”€â”€ einfo_building_map.pdf
â”‚   â”‚   â””â”€â”€ eng5_exam_floorplan.pdf
â”‚   â”œâ”€â”€ campus/
â”‚   â”‚   â”œâ”€â”€ yangming_campus_map.pdf
â”‚   â”‚   â””â”€â”€ yangming_map_old.pdf
â”‚   â””â”€â”€ administrative/
â”‚       â””â”€â”€ fee_standard.pdf
â”œâ”€â”€ preview/                            # PNG é è¦½åœ–
â”‚   â”œâ”€â”€ auditorium/
â”‚   â”œâ”€â”€ buildings/
â”‚   â””â”€â”€ campus/
â””â”€â”€ source/                             # åŸå§‹æª”æ¡ˆï¼ˆå¦‚æœæœ‰ï¼‰
```

---

## ğŸ“‹ å¯¦æ–½æ­¥é©Ÿ

### éšæ®µ 1: æº–å‚™å·¥ä½œï¼ˆ30 åˆ†é˜ï¼‰
- [ ] å‚™ä»½ç•¶å‰æ‰€æœ‰ç›®éŒ„åˆ° `backup_2026-02-08/`
- [ ] å»ºç«‹æ–°çš„ç›®éŒ„çµæ§‹
- [ ] å‰µå»ºå…ƒæ•¸æ“šæ¨¡æ¿

### éšæ®µ 2: raw/ æ•´ç†ï¼ˆ1 å°æ™‚ï¼‰
- [ ] æ•´ç† NLSC 3D tiles æ•¸æ“šé›†
- [ ] ç”Ÿæˆ metadata.json
- [ ] å‰µå»º README.md
- [ ] å£“ç¸®èˆŠç‰ˆæœ¬æ•¸æ“š

### éšæ®µ 3: processed/ æ•´ç†ï¼ˆ45 åˆ†é˜ï¼‰
- [ ] æŒ‰æ ¡å€åˆ†é¡å»ºç¯‰æ•¸æ“š
- [ ] ç§»å‹•æ–‡ä»¶åˆ°æ–°çµæ§‹
- [ ] ç”Ÿæˆè™•ç†æ—¥èªŒ
- [ ] æ›´æ–° metadata.json

### éšæ®µ 4: output/ æ•´ç†ï¼ˆ30 åˆ†é˜ï¼‰
- [ ] å»ºç«‹ç‰ˆæœ¬åŒ–ç›®éŒ„
- [ ] å‰µå»ºç¬¦è™Ÿé€£çµåˆ° latest/
- [ ] ç”Ÿæˆå…ƒæ•¸æ“šæ–‡ä»¶
- [ ] å£“ç¸®èˆŠç‰ˆæœ¬

### éšæ®µ 5: floor_plans/ æ•´ç†ï¼ˆ30 åˆ†é˜ï¼‰
- [ ] æŒ‰é¡å‹åˆ†é¡ PDF
- [ ] æ•´ç†é è¦½åœ–
- [ ] å‰µå»ºç´¢å¼•æ–‡ä»¶
- [ ] ç”Ÿæˆ metadata.json

### éšæ®µ 6: æ–‡æª”å’Œé©—è­‰ï¼ˆ30 åˆ†é˜ï¼‰
- [ ] æ›´æ–°æ‰€æœ‰ README.md
- [ ] é©—è­‰æ–‡ä»¶å®Œæ•´æ€§
- [ ] ç”Ÿæˆæ•´ç†å ±å‘Š
- [ ] å‰µå»ºæ•¸æ“šå­—å…¸

---

## ğŸ› ï¸ å·¥å…·å’Œè…³æœ¬

### Docker å®¹å™¨æ–¹æ¡ˆ
ä½¿ç”¨ Python + æ•¸æ“šè™•ç†å·¥å…·çš„å®¹å™¨ä¾†åŸ·è¡Œæ•´ç†ä»»å‹™ï¼š

```dockerfile
FROM python:3.12-slim

WORKDIR /data

RUN pip install --no-cache-dir \
    pandas \
    geopandas \
    shapely \
    folium \
    openpyxl

COPY scripts/ /scripts/
RUN chmod +x /scripts/*.py

CMD ["python", "/scripts/organize_data.py"]
```

### æ•´ç†è…³æœ¬
```python
# organize_data.py
# 1. æƒæç›®éŒ„çµæ§‹
# 2. ç”Ÿæˆå…ƒæ•¸æ“š
# 3. ç§»å‹•å’Œé‡å‘½åæ–‡ä»¶
# 4. å‰µå»ºç‰ˆæœ¬åŒ–ç›®éŒ„
# 5. ç”Ÿæˆå ±å‘Š
```

---

## ğŸ“ å…ƒæ•¸æ“šæ¨¡æ¿

### dataset_metadata.json
```json
{
  "dataset_name": "NLSC_3D_tiles_112_A_yangming",
  "version": "112",
  "campus": "yangming",
  "type": "3D_tiles",
  "source": "NLSC",
  "download_date": "2024-XX-XX",
  "file_count": 42,
  "total_size_mb": 128.5,
  "layers": ["L5", "L6"],
  "extent": {
    "min_lon": 121.xxx,
    "max_lon": 121.xxx,
    "min_lat": 25.xxx,
    "max_lat": 25.xxx
  },
  "processing_status": "raw",
  "notes": ""
}
```

### processing_metadata.json
```json
{
  "version": "v1",
  "created_date": "2026-02-07",
  "processor": "building_extractor_v2.py",
  "input_files": [
    "raw/NLSC_3D_tiles_112_A_yangming/"
  ],
  "output_files": [
    "processed/buildings/by_campus/yangming_NLSC_buildings.json"
  ],
  "parameters": {
    "min_height": 3.0,
    "simplify_tolerance": 0.5
  },
  "statistics": {
    "buildings_extracted": 156,
    "total_area_sqm": 45678.9
  }
}
```

---

## âœ… æ•´ç†å¾Œçš„å„ªå‹¢

1. **æ˜“æ–¼å°èˆª**
   - æ¸…æ™°çš„ç›®éŒ„å±¤æ¬¡
   - ä¸€è‡´çš„å‘½åè¦ç¯„
   - å®Œæ•´çš„æ–‡æª”èªªæ˜

2. **ç‰ˆæœ¬è¿½æº¯**
   - æ¯å€‹ç‰ˆæœ¬éƒ½æœ‰æ™‚é–“æˆ³
   - ä¿ç•™ç”Ÿæˆåƒæ•¸
   - å¯å›æº¯åˆ°åŸå§‹æ•¸æ“š

3. **ç©ºé–“å„ªåŒ–**
   - å£“ç¸®èˆŠç‰ˆæœ¬æ•¸æ“š
   - ç§»é™¤é‡è¤‡æ–‡ä»¶
   - é ä¼°ç¯€çœ 200-300 MB

4. **å”ä½œå‹å¥½**
   - æ–°æˆå“¡å¿«é€Ÿä¸Šæ‰‹
   - æ•¸æ“šä¾†æºæ¸…æ™°
   - è™•ç†æµç¨‹å¯è¤‡ç¾

---

## âš ï¸ æ³¨æ„äº‹é …

1. **çµ•å°ä¸å¯ä¿®æ”¹ ymmap_archive/**
   - åƒ…ä½œç‚ºåƒè€ƒæ¨™æº–
   - ä¸é€²è¡Œä»»ä½•æ–‡ä»¶æ“ä½œ

2. **ä¿ç•™åŸå§‹æ•¸æ“š**
   - raw/ ç›®éŒ„ä¿æŒå®Œæ•´
   - åƒ…é€²è¡Œçµ„ç¹”ï¼Œä¸åˆªé™¤

3. **å‚™ä»½å„ªå…ˆ**
   - åŸ·è¡Œå‰å®Œæ•´å‚™ä»½
   - åˆ†éšæ®µé©—è­‰çµæœ

4. **æ¼¸é€²å¼æ•´ç†**
   - ä¸€æ¬¡è™•ç†ä¸€å€‹ç›®éŒ„
   - é©—è­‰å¾Œå†ç¹¼çºŒä¸‹ä¸€å€‹

---

## ğŸ“… æ™‚é–“ä¼°ç®—

| éšæ®µ | æ™‚é–“ | å„ªå…ˆç´š |
|------|------|--------|
| æº–å‚™å·¥ä½œ | 30 min | ğŸ”´ é«˜ |
| raw/ æ•´ç† | 1 hour | ğŸ”´ é«˜ |
| processed/ æ•´ç† | 45 min | ğŸŸ¡ ä¸­ |
| output/ æ•´ç† | 30 min | ğŸŸ¡ ä¸­ |
| floor_plans/ æ•´ç† | 30 min | ğŸŸ¢ ä½ |
| æ–‡æª”å’Œé©—è­‰ | 30 min | ğŸ”´ é«˜ |
| **ç¸½è¨ˆ** | **3.5 hours** | |

---

## ğŸš€ é–‹å§‹åŸ·è¡Œ

æº–å‚™å¥½å¾Œï¼ŒåŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# 1. å‰µå»ºå‚™ä»½
python scripts/backup_data.py

# 2. åŸ·è¡Œæ•´ç†ï¼ˆä½¿ç”¨ Dockerï¼‰
docker-compose up data-organizer

# 3. é©—è­‰çµæœ
python scripts/validate_organization.py

# 4. ç”Ÿæˆå ±å‘Š
python scripts/generate_report.py
```
